<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Article Management</title>
    <link rel="stylesheet" href="../css/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>
  <body class="article-list">
    <!-- Navbar -->
    <header>
      <nav>
        <h1>Electri-K</h1>
      </nav>
    </header>

    <main class="main-article-list">
      <section class="form-container">
        <h2>Article Management</h2>

        <!-- Success or error messages -->
        <div class="alert alert-success" id="success" style="display: none">
          Operation successful!
        </div>
        <div class="alert alert-danger" id="error" style="display: none">
          There was an error!
        </div>

        <a th:href="@{/article/create}" class="btn">New Article</a>

        <!-- Table to display articles -->
        <table class="table article-list-table">
          <thead>
            <tr>
              <!-- <th>ID</th> -->
              <th>Number</th>
              <th>Name</th>
              <th>Description</th>
              <th>Factory</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody th:each="article : ${articles}">
            <tr>
              <td th:text="${article.articleNumber}"></td>
              <td th:text="${article.articleName}"></td>
              <td th:text="${article.articleDescription}"></td>
              <td th:text="${article.factory.factoryName}"></td>
              <td>
                <a href="#" class="btn btn-edit">
                  <i class="fas fa-edit"></i> Edit
                </a>
                <form
                  th:action="@{/article/delete/{id}(id=${article.id})}"
                  method="POST"
                >
                  <button
                    type="submit"
                    class="btn btn-delete"
                    onclick="return confirm('Are you sure?')"
                  >
                    <i class="fas fa-trash-alt"></i> Delete
                  </button>
                </form>
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 The House of Electricity. All rights reserved.</p>
    </footer>
  </body>
</html>
